/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ImageService } from '../services/image.service';
import { Component } from '@angular/core';
import { animate, state, style, transition, trigger } from '@angular/animations';
var ViewerComponent = /** @class */ (function () {
    function ViewerComponent(imageService) {
        var _this = this;
        this.imageService = imageService;
        this.images = [{}];
        this.currentIdx = 0;
        this.leftArrowVisible = true;
        this.rightArrowVisible = true;
        this.categorySelected = 'preview_xxs';
        this.qualitySelectorShown = false;
        this.qualitySelected = 'auto';
        imageService.imagesUpdated$.subscribe(function (images) {
            _this.images = images;
        });
        imageService.imageSelectedIndexUpdated$.subscribe(function (newIndex) {
            _this.currentIdx = newIndex;
            _this.images.forEach(function (image) { return image['active'] = false; });
            _this.images[_this.currentIdx]['active'] = true;
            _this.transform = 0;
            _this.updateQuality();
        });
        imageService.showImageViewerChanged$.subscribe(function (showViewer) {
            _this.showViewer = showViewer;
        });
        this.math = Math;
    }
    Object.defineProperty(ViewerComponent.prototype, "leftArrowActive", {
        get: /**
         * @return {?}
         */
        function () {
            return this.currentIdx > 0;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerComponent.prototype, "rightArrowActive", {
        get: /**
         * @return {?}
         */
        function () {
            return this.currentIdx < this.images.length - 1;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @param {?} swipe
     * @return {?}
     */
    ViewerComponent.prototype.pan = /**
     * @param {?} swipe
     * @return {?}
     */
    function (swipe) {
        this.transform = swipe.deltaX;
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.onResize = /**
     * @return {?}
     */
    function () {
        this.images.forEach(function (image) {
            image['viewerImageLoaded'] = false;
            image['active'] = false;
        });
        this.updateImage();
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.showQualitySelector = /**
     * @return {?}
     */
    function () {
        this.qualitySelectorShown = !this.qualitySelectorShown;
    };
    /**
     * @param {?} newQuality
     * @return {?}
     */
    ViewerComponent.prototype.qualityChanged = /**
     * @param {?} newQuality
     * @return {?}
     */
    function (newQuality) {
        this.qualitySelected = newQuality;
        this.updateImage();
    };
    /**
     * @param {?} image
     * @return {?}
     */
    ViewerComponent.prototype.imageLoaded = /**
     * @param {?} image
     * @return {?}
     */
    function (image) {
        image['viewerImageLoaded'] = true;
    };
    /**
     * direction (-1: left, 1: right)
     * swipe (user swiped)
     */
    /**
     * direction (-1: left, 1: right)
     * swipe (user swiped)
     * @param {?} direction
     * @param {?} swipe
     * @return {?}
     */
    ViewerComponent.prototype.navigate = /**
     * direction (-1: left, 1: right)
     * swipe (user swiped)
     * @param {?} direction
     * @param {?} swipe
     * @return {?}
     */
    function (direction, swipe) {
        if ((direction === 1 && this.currentIdx < this.images.length - 1) ||
            (direction === -1 && this.currentIdx > 0)) {
            if (direction == -1) {
                this.images[this.currentIdx]['transition'] = 'leaveToRight';
                this.images[this.currentIdx - 1]['transition'] = 'enterFromLeft';
            }
            else {
                this.images[this.currentIdx]['transition'] = 'leaveToLeft';
                this.images[this.currentIdx + 1]['transition'] = 'enterFromRight';
            }
            this.currentIdx += direction;
            if (swipe) {
                this.hideNavigationArrows();
            }
            else {
                this.showNavigationArrows();
            }
            this.updateImage();
        }
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.showNavigationArrows = /**
     * @return {?}
     */
    function () {
        this.leftArrowVisible = true;
        this.rightArrowVisible = true;
    };
    /**
     * @return {?}
     */
    ViewerComponent.prototype.closeViewer = /**
     * @return {?}
     */
    function () {
        this.images.forEach(function (image) { return image['transition'] = undefined; });
        this.images.forEach(function (image) { return image['active'] = false; });
        this.imageService.showImageViewer(false);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    ViewerComponent.prototype.onKeydown = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var prevent = [37, 39, 27, 36, 35]
            .find(function (no) { return no === event.keyCode; });
        if (prevent) {
            event.preventDefault();
        }
        switch (prevent) {
            case 37:
                // navigate left
                this.navigate(-1, false);
                break;
            case 39:
                // navigate right
                this.navigate(1, false);
                break;
            case 27:
                // esc
                this.closeViewer();
                break;
            case 36:
                // pos 1
                this.images[this.currentIdx]['transition'] = 'leaveToRight';
                this.currentIdx = 0;
                this.images[this.currentIdx]['transition'] = 'enterFromLeft';
                this.updateImage();
                break;
            case 35:
                // end
                this.images[this.currentIdx]['transition'] = 'leaveToLeft';
                this.currentIdx = this.images.length - 1;
                this.images[this.currentIdx]['transition'] = 'enterFromRight';
                this.updateImage();
                break;
            default:
                break;
        }
    };
    /**
     * @private
     * @return {?}
     */
    ViewerComponent.prototype.hideNavigationArrows = /**
     * @private
     * @return {?}
     */
    function () {
        this.leftArrowVisible = false;
        this.rightArrowVisible = false;
    };
    /**
     * @private
     * @return {?}
     */
    ViewerComponent.prototype.updateImage = /**
     * @private
     * @return {?}
     */
    function () {
        var _this = this;
        // wait for animation to end
        setTimeout(function () {
            _this.updateQuality();
            _this.images[_this.currentIdx]['active'] = true;
            _this.images.forEach(function (image) {
                if (image != _this.images[_this.currentIdx]) {
                    image['active'] = false;
                    _this.transform = 0;
                }
            });
        }, 500);
    };
    /**
     * @private
     * @return {?}
     */
    ViewerComponent.prototype.updateQuality = /**
     * @private
     * @return {?}
     */
    function () {
        /** @type {?} */
        var screenWidth = window.innerWidth;
        /** @type {?} */
        var screenHeight = window.innerHeight;
        switch (this.qualitySelected) {
            case 'auto': {
                this.categorySelected = 'preview_xxs';
                if (screenWidth > this.images[this.currentIdx]['preview_xxs'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_xxs'].height) {
                    this.categorySelected = 'preview_xs';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_xs'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_xs'].height) {
                    this.categorySelected = 'preview_s';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_s'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_s'].height) {
                    this.categorySelected = 'preview_m';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_m'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_m'].height) {
                    this.categorySelected = 'preview_l';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_l'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_l'].height) {
                    this.categorySelected = 'preview_xl';
                }
                if (screenWidth > this.images[this.currentIdx]['preview_xl'].width &&
                    screenHeight > this.images[this.currentIdx]['preview_xl'].height) {
                    this.categorySelected = 'raw';
                }
                break;
            }
            case 'low': {
                this.categorySelected = 'preview_xxs';
                break;
            }
            case 'mid': {
                this.categorySelected = 'preview_m';
                break;
            }
            case 'high': {
                this.categorySelected = 'raw';
                break;
            }
            default: {
                this.categorySelected = 'preview_m';
            }
        }
    };
    ViewerComponent.decorators = [
        { type: Component, args: [{
                    selector: 'viewer',
                    template: "<div class=\"outerContainer\" (window:resize)=\"onResize()\" *ngIf=\"showViewer\" [@showViewerTransition]=\"showViewer\">\n\n\n    <img [ngClass]=\"{'activeArrow': leftArrowActive}\" class=\"arrow left\"\n         src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPiAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgaWQ9Im1pdSIgc3Ryb2tlPSIjNTU1IiBzdHJva2Utd2lkdGg9IjAuMiI+ICAgICA8ZyBpZD0iQXJ0Ym9hcmQtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM5NS4wMDAwMDAsIC0xOTEuMDAwMDAwKSI+PGcgaWQ9InNsaWNlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMTUuMDAwMDAwLCAxMTkuMDAwMDAwKSIvPjxwYXRoICAgICAgIGQ9Ik0zOTYsMjAyLjUgQzM5NiwxOTYuMTQ4NzI1IDQwMS4xNDg3MjUsMTkxIDQwNy41LDE5MSBDNDEzLjg1MTI3NSwxOTEgNDE5LDE5Ni4xNDg3MjUgNDE5LDIwMi41IEM0MTksMjA4Ljg1MTI3NSA0MTMuODUxMjc1LDIxNCA0MDcuNSwyMTQgQzQwMS4xNDg3MjUsMjE0IDM5NiwyMDguODUxMjc1IDM5NiwyMDIuNSBaIE00MDguNjU2ODU0LDE5Ni44NDMxNDYgTDQxMC4wNzEwNjgsMTk4LjI1NzM1OSBMNDA1LjgyODQyNywyMDIuNSBMNDEwLjA3MTA2OCwyMDYuNzQyNjQxIEw0MDguNjU2ODU0LDIwOC4xNTY4NTQgTDQwMywyMDIuNSBMNDA4LjY1Njg1NCwxOTYuODQzMTQ2IFoiICAgICAgIGZpbGw9IiNhYWEiICAgICAgIGlkPSJjaXJjbGUtYmFjay1hcnJvdy1nbHlwaCIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\n         [hidden]=\"!leftArrowVisible\" (click)=\"navigate(-1, false)\"/>\n    <img [ngClass]=\"{'activeArrow': rightArrowActive}\" class=\"arrow right\"\n         src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjI0cHgiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZS8+PGRlc2MvPjxkZWZzLz4gICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGlkPSJtaXUiIHN0cm9rZT0iIzU1NSIgc3Ryb2tlLXdpZHRoPSIwLjIiPiAgICAgPGcgaWQ9IkFydGJvYXJkLTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NjcuMDAwMDAwLCAtMTkxLjAwMDAwMCkiPjxnIGlkPSJzbGljZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjE1LjAwMDAwMCwgMTE5LjAwMDAwMCkiLz48cGF0aCAgICAgICBkPSJNNDY4LDIwMi41IEM0NjgsMTk2LjE0ODcyNSA0NzMuMTQ4NzI1LDE5MSA0NzkuNSwxOTEgQzQ4NS44NTEyNzUsMTkxIDQ5MSwxOTYuMTQ4NzI1IDQ5MSwyMDIuNSBDNDkxLDIwOC44NTEyNzUgNDg1Ljg1MTI3NSwyMTQgNDc5LjUsMjE0IEM0NzMuMTQ4NzI1LDIxNCA0NjgsMjA4Ljg1MTI3NSA0NjgsMjAyLjUgWiBNNDgwLjY1Njg1NCwxOTYuODQzMTQ2IEw0ODIuMDcxMDY4LDE5OC4yNTczNTkgTDQ3Ny44Mjg0MjcsMjAyLjUgTDQ4Mi4wNzEwNjgsMjA2Ljc0MjY0MSBMNDgwLjY1Njg1NCwyMDguMTU2ODU0IEw0NzUsMjAyLjUgTDQ4MC42NTY4NTQsMTk2Ljg0MzE0NiBaIiAgICAgICBmaWxsPSIjYWFhIiAgICAgICBpZD0iY2lyY2xlLW5leHQtYXJyb3ctZGlzY2xvc3VyZS1nbHlwaCIgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDc5LjUwMDAwMCwgMjAyLjUwMDAwMCkgc2NhbGUoLTEsIDEpIHRyYW5zbGF0ZSgtNDc5LjUwMDAwMCwgLTIwMi41MDAwMDApICIvPjwvZz4gICA8L2c+IDwvc3ZnPg==\"\n         [hidden]=\"!rightArrowVisible\" (click)=\"navigate(1, false)\"/>\n\n    <div class=\"buttonContainer\">\n        <img class=\"action close\"\n             src=\"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjMwcHgiIGlkPSJMYXllcl8xIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgdmVyc2lvbj0iMS4xIiBmaWxsPSIjYWFhIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjI0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgPHBhdGggICAgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlPSIjNDQ0IiAgICBkPSJNNDM3LjUsMzg2LjZMMzA2LjksMjU2bDEzMC42LTEzMC42YzE0LjEtMTQuMSwxNC4xLTM2LjgsMC01MC45Yy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMEwyNTYsMjA1LjFMMTI1LjQsNzQuNSAgYy0xNC4xLTE0LjEtMzYuOC0xNC4xLTUwLjksMGMtMTQuMSwxNC4xLTE0LjEsMzYuOCwwLDUwLjlMMjA1LjEsMjU2TDc0LjUsMzg2LjZjLTE0LjEsMTQuMS0xNC4xLDM2LjgsMCw1MC45ICBjMTQuMSwxNC4xLDM2LjgsMTQuMSw1MC45LDBMMjU2LDMwNi45bDEzMC42LDEzMC42YzE0LjEsMTQuMSwzNi44LDE0LjEsNTAuOSwwQzQ1MS41LDQyMy40LDQ1MS41LDQwMC42LDQzNy41LDM4Ni42eiIvPjwvc3ZnPg==\"\n             (click)=\"closeViewer()\"/>\n    </div>\n\n    <div class=\"imageContainer\"\n         (click)=\"showNavigationArrows()\"\n         (swipeleft)=\"navigate(1, $event)\"\n         (swiperight)=\"navigate(-1, $event)\"\n         (pan)=\"pan($event)\">\n\n        <div *ngFor='let img of images; let j = index'\n             class=\"image\"\n             [class.active]=\"img['active']\"\n             [style.background-image]=\"img['viewerImageLoaded'] ? 'url('+img[categorySelected]['path']+')' : math.abs(currentIdx-j) <=1 ? 'url('+img['preview_xxs']['path']+')' : ''\"\n             [style.left]=\"transform+'px'\"\n             [@imageTransition]=\"img['transition']\"></div>\n\n        <img *ngFor='let img of images; let j = index'\n             class=\"preloading-image\"\n             (load)=\"imageLoaded(img)\"\n             src=\"{{ math.abs(currentIdx-j) <=1 ? img[categorySelected]['path'] : ''}}\"/>\n    </div>\n</div>\n\n",
                    styles: [".outerContainer{top:0;bottom:0;left:0;right:0;height:100%;width:100%;position:fixed;background-color:rgba(0,0,0,.95);font-family:sans-serif;z-index:1031}.imageContainer{position:absolute;float:none;top:0;bottom:0;left:0;right:0}.imageContainer .image,.imageContainer .preloading-image{visibility:hidden}.imageContainer .image.active{position:absolute;visibility:visible;background-repeat:no-repeat;background-size:contain;background-position:center;margin:auto;left:0;right:0;top:0;bottom:0;height:100%;width:100%;opacity:1}.arrow{opacity:0}.arrow:hover{cursor:pointer}.outerContainer:hover .arrow.activeArrow{height:calc(20px + 1.5vw);position:absolute;top:calc(50% - (20px + 1.5vw)/ 2);bottom:50%;z-index:1;opacity:1;transition:all ease-out .5s}.arrow.left{left:2vw}.arrow.right{right:2vw}.arrow:not(.activeArrow):hover{opacity:0;cursor:pointer;transition:all ease-out .5s}.buttonContainer{position:absolute;top:20px;right:20px;height:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}.buttonContainer .action{height:100%;cursor:pointer;vertical-align:top}.buttonContainer .action:focus{outline:0}.buttonContainer .action:hover{background-color:#222;transition:all ease-out .3s}.buttonContainer .action.close{width:26px;height:26px}md-button-toggle.checked{background-color:#a0a0a0}.menuButton{position:absolute;bottom:20px;right:20px;text-align:center;opacity:1;z-index:200;transition:all ease-out .5s}@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:local('Material Icons'),local('MaterialIcons-Regular'),url(https://fonts.gstatic.com/s/materialicons/v19/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format('woff2')}.material-icons{font-family:'Material Icons';font-weight:400;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}"],
                    host: {
                        '(document:keydown)': 'onKeydown($event)'
                    },
                    animations: [
                        trigger('imageTransition', [
                            state('enterFromRight', style({
                                opacity: 1,
                                transform: 'translate(0px, 0px)'
                            })),
                            state('enterFromLeft', style({
                                opacity: 1,
                                transform: 'translate(0px, 0px)'
                            })),
                            state('leaveToLeft', style({
                                opacity: 0,
                                transform: 'translate(-100px, 0px)'
                            })),
                            state('leaveToRight', style({
                                opacity: 0,
                                transform: 'translate(100px, 0px)'
                            })),
                            transition('* => enterFromRight', [
                                style({
                                    opacity: 0,
                                    transform: 'translate(30px, 0px)'
                                }),
                                animate('250ms 500ms ease-in')
                            ]),
                            transition('* => enterFromLeft', [
                                style({
                                    opacity: 0,
                                    transform: 'translate(-30px, 0px)'
                                }),
                                animate('250ms 500ms ease-in')
                            ]),
                            transition('* => leaveToLeft', [
                                style({
                                    opacity: 1
                                }),
                                animate('250ms ease-out')
                            ]),
                            transition('* => leaveToRight', [
                                style({
                                    opacity: 1
                                }),
                                animate('250ms ease-out')
                            ])
                        ]),
                        trigger('showViewerTransition', [
                            state('true', style({
                                opacity: 1
                            })),
                            state('void', style({
                                opacity: 0
                            })),
                            transition('void => *', [
                                style({
                                    opacity: 0
                                }),
                                animate('1000ms ease-in')
                            ]),
                            transition('* => void', [
                                style({
                                    opacity: 1
                                }),
                                animate('500ms ease-out')
                            ])
                        ])
                    ]
                },] },
    ];
    /** @nocollapse */
    ViewerComponent.ctorParameters = function () { return [
        { type: ImageService }
    ]; };
    return ViewerComponent;
}());
export { ViewerComponent };
if (false) {
    /** @type {?} */
    ViewerComponent.prototype.showViewer;
    /** @type {?} */
    ViewerComponent.prototype.images;
    /** @type {?} */
    ViewerComponent.prototype.currentIdx;
    /** @type {?} */
    ViewerComponent.prototype.leftArrowVisible;
    /** @type {?} */
    ViewerComponent.prototype.rightArrowVisible;
    /** @type {?} */
    ViewerComponent.prototype.categorySelected;
    /** @type {?} */
    ViewerComponent.prototype.transform;
    /** @type {?} */
    ViewerComponent.prototype.math;
    /**
     * @type {?}
     * @private
     */
    ViewerComponent.prototype.qualitySelectorShown;
    /**
     * @type {?}
     * @private
     */
    ViewerComponent.prototype.qualitySelected;
    /**
     * @type {?}
     * @private
     */
    ViewerComponent.prototype.imageService;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXIyLWltYWdlLWdhbGxlcnkvIiwic291cmNlcyI6WyJsaWIvdmlld2VyL3ZpZXdlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQTtBQUN4RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFBO0FBQ3pDLE9BQU8sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFFaEY7SUEySEkseUJBQW9CLFlBQTBCO1FBQTlDLGlCQWtCQztRQWxCbUIsaUJBQVksR0FBWixZQUFZLENBQWM7UUFWOUMsV0FBTSxHQUFlLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDekIsZUFBVSxHQUFXLENBQUMsQ0FBQTtRQUN0QixxQkFBZ0IsR0FBWSxJQUFJLENBQUE7UUFDaEMsc0JBQWlCLEdBQVksSUFBSSxDQUFBO1FBQ2pDLHFCQUFnQixHQUFXLGFBQWEsQ0FBQTtRQUdoQyx5QkFBb0IsR0FBWSxLQUFLLENBQUE7UUFDckMsb0JBQWUsR0FBVyxNQUFNLENBQUE7UUFHcEMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQ2pDLFVBQUEsTUFBTTtZQUNGLEtBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFBO1FBQ3hCLENBQUMsQ0FBQyxDQUFBO1FBQ04sWUFBWSxDQUFDLDBCQUEwQixDQUFDLFNBQVMsQ0FDN0MsVUFBQSxRQUFRO1lBQ0osS0FBSSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUE7WUFDMUIsS0FBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsS0FBSyxFQUF2QixDQUF1QixDQUFDLENBQUE7WUFDckQsS0FBSSxDQUFD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LEVBQUU7b0JBQ2xFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxXQUFXLENBQUE7aUJBQ3RDO2dCQUNELElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUs7b0JBQzdELFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLEVBQUU7b0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxXQUFXLENBQUE7aUJBQ3RDO2dCQUNELElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUs7b0JBQzdELFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLEVBQUU7b0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxXQUFXLENBQUE7aUJBQ3RDO2dCQUNELElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUs7b0JBQzdELFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLEVBQUU7b0JBQ2pFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxZQUFZLENBQUE7aUJBQ3ZDO2dCQUNELElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUs7b0JBQzlELFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLEVBQUU7b0JBQ2xFLElBQUksQ0FBQyxn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cEIsS0FBSyxDQUFDO29DQUNGLE9BQU8sRUFBRSxDQUFDO2lDQUNiLENBQUM7Z0NBQ0YsT0FBTyxDQUFDLGdCQUFnQixDQUFDOzZCQUFDLENBQzdCO3lCQUNKLENBQUM7cUJBQ0w7aUJBQ0o7Ozs7Z0JBakhRLFlBQVk7O0lBc1VyQixzQkFBQztDQUFBLEFBbFVELElBa1VDO1NBbk5ZLGVBQWU7OztJQUN4QixxQ0FBbUI7O0lBQ25CLGlDQUF5Qjs7SUFDekIscUNBQXNCOztJQUN0QiwyQ0FBZ0M7O0lBQ2hDLDRDQUFpQzs7SUFDakMsMkNBQXdDOztJQUN4QyxvQ0FBaUI7O0lBQ2pCLCtCQUFVOzs7OztJQUNWLCtDQUE2Qzs7Ozs7SUFDN0MsMENBQXdDOzs7OztJQUU1Qix1Q0FBa0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbWFnZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9pbWFnZS5zZXJ2aWNlJ1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcbmltcG9ydCB7IGFuaW1hdGUsIHN0YXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnXG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndmlld2VyJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9XCJvdXRlckNvbnRhaW5lclwiICh3aW5kb3c6cmVzaXplKT1cIm9uUmVzaXplKClcIiAqbmdJZj1cInNob3dWaWV3ZXJcIiBbQHNob3dWaWV3ZXJUcmFuc2l0aW9uXT1cInNob3dWaWV3ZXJcIj5cblxuXG4gICAgPGltZyBbbmdDbGFzc109XCJ7J2FjdGl2ZUFycm93JzogbGVmdEFycm93QWN0aXZlfVwiIGNsYXNzPVwiYXJyb3cgbGVmdFwiXG4gICAgICAgICBzcmM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJvWldsbmFIUTlJakkwY0hnaUlIWmxjbk5wYjI0OUlqRXVNU0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWlCM2FXUjBhRDBpTWpSd2VDSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwemEyVjBZMmc5SW1oMGRIQTZMeTkzZDNjdVltOW9aVzFwWVc1amIyUnBibWN1WTI5dEwzTnJaWFJqYUM5dWN5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaVBqeDBhWFJzWlM4K1BHUmxjMk12UGlBZ0lEeG5JR1pwYkd3OUltNXZibVVpSUdacGJHd3RjblZzWlQwaVpYWmxibTlrWkNJZ2FXUTlJbTFwZFNJZ2MzUnliMnRsUFNJak5UVTFJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqQXVNaUkrSUNBZ0lDQThaeUJwWkQwaVFYSjBZbTloY21RdE1TSWdkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTFRNNU5TNHdNREF3TURBc0lDMHhPVEV1TURBd01EQXdLU0krUEdjZ2FXUTlJbk5zYVdObElpQjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2d5TVRVdU1EQXdNREF3TENBeE1Ua3VNREF3TURBd0tTSXZQanh3WVhSb0lDQWdJQ0FnSUdROUlrMHpPVFlzTWpBeUxqVWdRek01Tml3eE9UWXVNVFE0TnpJMUlEUXdNUzR4TkRnM01qVXNNVGt4SURRd055NDFMREU1TVNCRE5ERXpMamcxTVRJM05Td3hPVEVnTkRFNUxERTVOaTR4TkRnM01qVWdOREU1TERJd01pNDFJRU0wTVRrc01qQTRMamcxTVRJM05TQTBNVE11T0RVeE1qYzFMREl4TkNBME1EY3VOU3d5TVRRZ1F6UXdNUzR4TkRnM01qVXNNakUwSURNNU5pd3lNRGd1T0RVeE1qYzFJRE01Tml3eU1ESXVOU0JhSUUwME1EZ3VOalUyT0RVMExERTVOaTQ0TkRNeE5EWWdURFF4TUM0d056RXdOamdzTVRrNExqSTFOek0xT1NCTU5EQTFMamd5T0RReU55d3lNREl1TlNCTU5ERXdMakEzTVRBMk9Dd3lNRFl1TnpReU5qUXhJRXcwTURndU5qVTJPRFUwTERJd09DNHhOVFk0TlRRZ1REUXdNeXd5TURJdU5TQk1OREE0TGpZMU5qZzFOQ3d4T1RZdU9EUXpNVFEySUZvaUlDQWdJQ0FnSUdacGJHdzlJaU5oWVdFaUlDQWdJQ0FnSUdsa1BTSmphWEpqYkdVdFltRmpheTFoY25KdmR5MW5iSGx3YUNJdlBqd3ZaejRnSUNBOEwyYytJRHd2YzNablBnPT1cIlxuICAgICAgICAgW2hpZGRlbl09XCIhbGVmdEFycm93VmlzaWJsZVwiIChjbGljayk9XCJuYXZpZ2F0ZSgtMSwgZmFsc2UpXCIvPlxuICAgIDxpbWcgW25nQ2xhc3NdPVwieydhY3RpdmVBcnJvdyc6IHJpZ2h0QXJyb3dBY3RpdmV9XCIgY2xhc3M9XCJhcnJvdyByaWdodFwiXG4gICAgICAgICBzcmM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJvWldsbmFIUTlJakkwY0hnaUlIWmxjbk5wYjI0OUlqRXVNU0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWlCM2FXUjBhRDBpTWpSd2VDSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwemEyVjBZMmc5SW1oMGRIQTZMeTkzZDNjdVltOW9aVzFwWVc1amIyUnBibWN1WTI5dEwzTnJaWFJqYUM5dWN5SWdlRzFzYm5NNmVHeHBibXM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZlR3hwYm1zaVBqeDBhWFJzWlM4K1BHUmxjMk12UGp4a1pXWnpMejRnSUNBOFp5Qm1hV3hzUFNKdWIyNWxJaUJtYVd4c0xYSjFiR1U5SW1WMlpXNXZaR1FpSUdsa1BTSnRhWFVpSUhOMGNtOXJaVDBpSXpVMU5TSWdjM1J5YjJ0bExYZHBaSFJvUFNJd0xqSWlQaUFnSUNBZ1BHY2dhV1E5SWtGeWRHSnZZWEprTFRFaUlIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzAwTmpjdU1EQXdNREF3TENBdE1Ua3hMakF3TURBd01Da2lQanhuSUdsa1BTSnpiR2xqWlNJZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9NakUxTGpBd01EQXdNQ3dnTVRFNUxqQXdNREF3TUNraUx6NDhjR0YwYUNBZ0lDQWdJQ0JrUFNKTk5EWTRMREl3TWk0MUlFTTBOamdzTVRrMkxqRTBPRGN5TlNBME56TXVNVFE0TnpJMUxERTVNU0EwTnprdU5Td3hPVEVnUXpRNE5TNDROVEV5TnpVc01Ua3hJRFE1TVN3eE9UWXVNVFE0TnpJMUlEUTVNU3d5TURJdU5TQkRORGt4TERJd09DNDROVEV5TnpVZ05EZzFMamcxTVRJM05Td3lNVFFnTkRjNUxqVXNNakUwSUVNME56TXVNVFE0TnpJMUxESXhOQ0EwTmpnc01qQTRMamcxTVRJM05TQTBOamdzTWpBeUxqVWdXaUJOTkRnd0xqWTFOamcxTkN3eE9UWXVPRFF6TVRRMklFdzBPREl1TURjeE1EWTRMREU1T0M0eU5UY3pOVGtnVERRM055NDRNamcwTWpjc01qQXlMalVnVERRNE1pNHdOekV3Tmpnc01qQTJMamMwTWpZME1TQk1ORGd3TGpZMU5qZzFOQ3d5TURndU1UVTJPRFUwSUV3ME56VXNNakF5TGpVZ1REUTRNQzQyTlRZNE5UUXNNVGsyTGpnME16RTBOaUJhSWlBZ0lDQWdJQ0JtYVd4c1BTSWpZV0ZoSWlBZ0lDQWdJQ0JwWkQwaVkybHlZMnhsTFc1bGVIUXRZWEp5YjNjdFpHbHpZMnh2YzNWeVpTMW5iSGx3YUNJZ0lDQWdJQ0FnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb05EYzVMalV3TURBd01Dd2dNakF5TGpVd01EQXdNQ2tnYzJOaGJHVW9MVEVzSURFcElIUnlZVzV6YkdGMFpTZ3RORGM1TGpVd01EQXdNQ3dnTFRJd01pNDFNREF3TURBcElDSXZQand2Wno0Z0lDQThMMmMrSUR3dmMzWm5QZz09XCJcbiAgICAgICAgIFtoaWRkZW5dPVwiIXJpZ2h0QXJyb3dWaXNpYmxlXCIgKGNsaWNrKT1cIm5hdmlnYXRlKDEsIGZhbHNlKVwiLz5cblxuICAgIDxkaXYgY2xhc3M9XCJidXR0b25Db250YWluZXJcIj5cbiAgICAgICAgPGltZyBjbGFzcz1cImFjdGlvbiBjbG9zZVwiXG4gICAgICAgICAgICAgc3JjPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCb1pXbG5hSFE5SWpNd2NIZ2lJR2xrUFNKTVlYbGxjbDh4SWlCemRIbHNaVDBpWlc1aFlteGxMV0poWTJ0bmNtOTFibVE2Ym1WM0lEQWdNQ0ExTVRJZ05URXlPeUlnZG1WeWMybHZiajBpTVM0eElpQm1hV3hzUFNJallXRmhJaUIyYVdWM1FtOTRQU0l3SURBZ05URXlJRFV4TWlJZ2QybGtkR2c5SWpJMGNIZ2lJSGh0YkRwemNHRmpaVDBpY0hKbGMyVnlkbVVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lQaUFnUEhCaGRHZ2dJQ0FnYzNSeWIydGxMWGRwWkhSb1BTSXpNQ0lnYzNSeWIydGxQU0lqTkRRMElpQWdJQ0JrUFNKTk5ETTNMalVzTXpnMkxqWk1NekEyTGprc01qVTJiREV6TUM0MkxURXpNQzQyWXpFMExqRXRNVFF1TVN3eE5DNHhMVE0yTGpnc01DMDFNQzQ1WXkweE5DNHhMVEUwTGpFdE16WXVPQzB4TkM0eExUVXdMamtzTUV3eU5UWXNNakExTGpGTU1USTFMalFzTnpRdU5TQWdZeTB4TkM0eExURTBMakV0TXpZdU9DMHhOQzR4TFRVd0xqa3NNR010TVRRdU1Td3hOQzR4TFRFMExqRXNNell1T0N3d0xEVXdMamxNTWpBMUxqRXNNalUyVERjMExqVXNNemcyTGpaakxURTBMakVzTVRRdU1TMHhOQzR4TERNMkxqZ3NNQ3cxTUM0NUlDQmpNVFF1TVN3eE5DNHhMRE0yTGpnc01UUXVNU3cxTUM0NUxEQk1NalUyTERNd05pNDViREV6TUM0MkxERXpNQzQyWXpFMExqRXNNVFF1TVN3ek5pNDRMREUwTGpFc05UQXVPU3d3UXpRMU1TNDFMRFF5TXk0MExEUTFNUzQxTERRd01DNDJMRFF6Tnk0MUxETTROaTQyZWlJdlBqd3ZjM1puUGc9PVwiXG4gICAgICAgICAgICAgKGNsaWNrKT1cImNsb3NlVmlld2VyKClcIi8+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiaW1hZ2VDb250YWluZXJcIlxuICAgICAgICAgKGNsaWNrKT1cInNob3dOYXZpZ2F0aW9uQXJyb3dzKClcIlxuICAgICAgICAgKHN3aXBlbGVmdCk9XCJuYXZpZ2F0ZSgxLCAkZXZlbnQpXCJcbiAgICAgICAgIChzd2lwZXJpZ2h0KT1cIm5hdmlnYXRlKC0xLCAkZXZlbnQpXCJcbiAgICAgICAgIChwYW4pPVwicGFuKCRldmVudClcIj5cblxuICAgICAgICA8ZGl2ICpuZ0Zvcj0nbGV0IGltZyBvZiBpbWFnZXM7IGxldCBqID0gaW5kZXgnXG4gICAgICAgICAgICAgY2xhc3M9XCJpbWFnZVwiXG4gICAgICAgICAgICAgW2NsYXNzLmFjdGl2ZV09XCJpbWdbJ2FjdGl2ZSddXCJcbiAgICAgICAgICAgICBbc3R5bGUuYmFja2dyb3VuZC1pbWFnZV09XCJpbWdbJ3ZpZXdlckltYWdlTG9hZGVkJ10gPyAndXJsKCcraW1nW2NhdGVnb3J5U2VsZWN0ZWRdWydwYXRoJ10rJyknIDogbWF0aC5hYnMoY3VycmVudElkeC1qKSA8PTEgPyAndXJsKCcraW1nWydwcmV2aWV3X3h4cyddWydwYXRoJ10rJyknIDogJydcIlxuICAgICAgICAgICAgIFtzdHlsZS5sZWZ0XT1cInRyYW5zZm9ybSsncHgnXCJcbiAgICAgICAgICAgICBbQGltYWdlVHJhbnNpdGlvbl09XCJpbWdbJ3RyYW5zaXRpb24nXVwiPjwvZGl2PlxuXG4gICAgICAgIDxpbWcgKm5nRm9yPSdsZXQgaW1nIG9mIGltYWdlczsgbGV0IGogPSBpbmRleCdcbiAgICAgICAgICAgICBjbGFzcz1cInByZWxvYWRpbmctaW1hZ2VcIlxuICAgICAgICAgICAgIChsb2FkKT1cImltYWdlTG9hZGVkKGltZylcIlxuICAgICAgICAgICAgIHNyYz1cInt7IG1hdGguYWJzKGN1cnJlbnRJZHgtaikgPD0xID8gaW1nW2NhdGVnb3J5U2VsZWN0ZWRdWydwYXRoJ10gOiAnJ319XCIvPlxuICAgIDwvZGl2PlxuPC9kaXY+XG5cbmAsXG4gICAgc3R5bGVzOiBbYC5vdXRlckNvbnRhaW5lcnt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDtoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlO3Bvc2l0aW9uOmZpeGVkO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuOTUpO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7ei1pbmRleDoxMDMxfS5pbWFnZUNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTtmbG9hdDpub25lO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowfS5pbWFnZUNvbnRhaW5lciAuaW1hZ2UsLmltYWdlQ29udGFpbmVyIC5wcmVsb2FkaW5nLWltYWdle3Zpc2liaWxpdHk6aGlkZGVufS5pbWFnZUNvbnRhaW5lciAuaW1hZ2UuYWN0aXZle3Bvc2l0aW9uOmFic29sdXRlO3Zpc2liaWxpdHk6dmlzaWJsZTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1zaXplOmNvbnRhaW47YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7bWFyZ2luOmF1dG87bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtvcGFjaXR5OjF9LmFycm93e29wYWNpdHk6MH0uYXJyb3c6aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm91dGVyQ29udGFpbmVyOmhvdmVyIC5hcnJvdy5hY3RpdmVBcnJvd3toZWlnaHQ6Y2FsYygyMHB4ICsgMS41dncpO3Bvc2l0aW9uOmFic29sdXRlO3RvcDpjYWxjKDUwJSAtICgyMHB4ICsgMS41dncpLyAyKTtib3R0b206NTAlO3otaW5kZXg6MTtvcGFjaXR5OjE7dHJhbnNpdGlvbjphbGwgZWFzZS1vdXQgLjVzfS5hcnJvdy5sZWZ0e2xlZnQ6MnZ3fS5hcnJvdy5yaWdodHtyaWdodDoydnd9LmFycm93Om5vdCguYWN0aXZlQXJyb3cpOmhvdmVye29wYWNpdHk6MDtjdXJzb3I6cG9pbnRlcjt0cmFuc2l0aW9uOmFsbCBlYXNlLW91dCAuNXN9LmJ1dHRvbkNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MjBweDtyaWdodDoyMHB4O2hlaWdodDoyMHB4O3RleHQtYWxpZ246Y2VudGVyO29wYWNpdHk6MTt6LWluZGV4OjIwMDt0cmFuc2l0aW9uOmFsbCBlYXNlLW91dCAuNXN9LmJ1dHRvbkNvbnRhaW5lciAuYWN0aW9ue2hlaWdodDoxMDAlO2N1cnNvcjpwb2ludGVyO3ZlcnRpY2FsLWFsaWduOnRvcH0uYnV0dG9uQ29udGFpbmVyIC5hY3Rpb246Zm9jdXN7b3V0bGluZTowfS5idXR0b25Db250YWluZXIgLmFjdGlvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiMyMjI7dHJhbnNpdGlvbjphbGwgZWFzZS1vdXQgLjNzfS5idXR0b25Db250YWluZXIgLmFjdGlvbi5jbG9zZXt3aWR0aDoyNnB4O2hlaWdodDoyNnB4fW1kLWJ1dHRvbi10b2dnbGUuY2hlY2tlZHtiYWNrZ3JvdW5kLWNvbG9yOiNhMGEwYTB9Lm1lbnVCdXR0b257cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjIwcHg7cmlnaHQ6MjBweDt0ZXh0LWFsaWduOmNlbnRlcjtvcGFjaXR5OjE7ei1pbmRleDoyMDA7dHJhbnNpdGlvbjphbGwgZWFzZS1vdXQgLjVzfUBmb250LWZhY2V7Zm9udC1mYW1pbHk6J01hdGVyaWFsIEljb25zJztmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7c3JjOmxvY2FsKCdNYXRlcmlhbCBJY29ucycpLGxvY2FsKCdNYXRlcmlhbEljb25zLVJlZ3VsYXInKSx1cmwoaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbS9zL21hdGVyaWFsaWNvbnMvdjE5LzJmY3JZRk5hVGpjUzZnNFUzdC1ZNVpqWmpUNUZkRUoxNDBVMkRKWUMzbVkud29mZjIpIGZvcm1hdCgnd29mZjInKX0ubWF0ZXJpYWwtaWNvbnN7Zm9udC1mYW1pbHk6J01hdGVyaWFsIEljb25zJztmb250LXdlaWdodDo0MDA7Zm9udC1zdHlsZTpub3JtYWw7Zm9udC1zaXplOjI0cHg7bGluZS1oZWlnaHQ6MTtsZXR0ZXItc3BhY2luZzpub3JtYWw7dGV4dC10cmFuc2Zvcm06bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jazt3aGl0ZS1zcGFjZTpub3dyYXA7d29yZC13cmFwOm5vcm1hbDtkaXJlY3Rpb246bHRyOy13ZWJraXQtZm9udC1mZWF0dXJlLXNldHRpbmdzOidsaWdhJzstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkfWBdLFxuICAgIGhvc3Q6IHtcbiAgICAgICAgJyhkb2N1bWVudDprZXlkb3duKSc6ICdvbktleWRvd24oJGV2ZW50KSdcbiAgICB9LFxuICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgdHJpZ2dlcignaW1hZ2VUcmFuc2l0aW9uJywgW1xuICAgICAgICAgICAgc3RhdGUoJ2VudGVyRnJvbVJpZ2h0Jywgc3R5bGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDBweCwgMHB4KSdcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIHN0YXRlKCdlbnRlckZyb21MZWZ0Jywgc3R5bGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDBweCwgMHB4KSdcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIHN0YXRlKCdsZWF2ZVRvTGVmdCcsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtMTAwcHgsIDBweCknXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBzdGF0ZSgnbGVhdmVUb1JpZ2h0Jywgc3R5bGUoe1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDEwMHB4LCAwcHgpJ1xuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbignKiA9PiBlbnRlckZyb21SaWdodCcsIFtcbiAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgzMHB4LCAwcHgpJ1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGFuaW1hdGUoJzI1MG1zIDUwMG1zIGVhc2UtaW4nKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCcqID0+IGVudGVyRnJvbUxlZnQnLCBbXG4gICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGUoLTMwcHgsIDBweCknXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnMjUwbXMgNTAwbXMgZWFzZS1pbicpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJyogPT4gbGVhdmVUb0xlZnQnLCBbXG4gICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnMjUwbXMgZWFzZS1vdXQnKV1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCcqID0+IGxlYXZlVG9SaWdodCcsIFtcbiAgICAgICAgICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcyNTBtcyBlYXNlLW91dCcpXVxuICAgICAgICAgICAgKVxuICAgICAgICBdKSxcbiAgICAgICAgdHJpZ2dlcignc2hvd1ZpZXdlclRyYW5zaXRpb24nLCBbXG4gICAgICAgICAgICBzdGF0ZSgndHJ1ZScsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBzdGF0ZSgndm9pZCcsIHN0eWxlKHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCd2b2lkID0+IConLCBbXG4gICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnMTAwMG1zIGVhc2UtaW4nKV1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCcqID0+IHZvaWQnLCBbXG4gICAgICAgICAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnNTAwbXMgZWFzZS1vdXQnKV1cbiAgICAgICAgICAgIClcbiAgICAgICAgXSlcbiAgICBdXG59KVxuXG5leHBvcnQgY2xhc3MgVmlld2VyQ29tcG9uZW50IHtcbiAgICBzaG93Vmlld2VyOiBib29sZWFuXG4gICAgaW1hZ2VzOiBBcnJheTxhbnk+ID0gW3t9XVxuICAgIGN1cnJlbnRJZHg6IG51bWJlciA9IDBcbiAgICBsZWZ0QXJyb3dWaXNpYmxlOiBib29sZWFuID0gdHJ1ZVxuICAgIHJpZ2h0QXJyb3dWaXNpYmxlOiBib29sZWFuID0gdHJ1ZVxuICAgIGNhdGVnb3J5U2VsZWN0ZWQ6IHN0cmluZyA9ICdwcmV2aWV3X3h4cydcbiAgICB0cmFuc2Zvcm06IG51bWJlclxuICAgIG1hdGg6IE1hdGhcbiAgICBwcml2YXRlIHF1YWxpdHlTZWxlY3RvclNob3duOiBib29sZWFuID0gZmFsc2VcbiAgICBwcml2YXRlIHF1YWxpdHlTZWxlY3RlZDogc3RyaW5nID0gJ2F1dG8nXG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGltYWdlU2VydmljZTogSW1hZ2VTZXJ2aWNlKSB7XG4gICAgICAgIGltYWdlU2VydmljZS5pbWFnZXNVcGRhdGVkJC5zdWJzY3JpYmUoXG4gICAgICAgICAgICBpbWFnZXMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzID0gaW1hZ2VzXG4gICAgICAgICAgICB9KVxuICAgICAgICBpbWFnZVNlcnZpY2UuaW1hZ2VTZWxlY3RlZEluZGV4VXBkYXRlZCQuc3Vic2NyaWJlKFxuICAgICAgICAgICAgbmV3SW5kZXggPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudElkeCA9IG5ld0luZGV4XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXMuZm9yRWFjaChpbWFnZSA9PiBpbWFnZVsnYWN0aXZlJ10gPSBmYWxzZSlcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydhY3RpdmUnXSA9IHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IDBcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHkoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgaW1hZ2VTZXJ2aWNlLnNob3dJbWFnZVZpZXdlckNoYW5nZWQkLnN1YnNjcmliZShcbiAgICAgICAgICAgIHNob3dWaWV3ZXIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd1ZpZXdlciA9IHNob3dWaWV3ZXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHRoaXMubWF0aCA9IE1hdGhcbiAgICB9XG5cbiAgICBnZXQgbGVmdEFycm93QWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SWR4ID4gMFxuICAgIH1cblxuICAgIGdldCByaWdodEFycm93QWN0aXZlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SWR4IDwgdGhpcy5pbWFnZXMubGVuZ3RoIC0gMVxuICAgIH1cblxuICAgIHBhbihzd2lwZTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gc3dpcGUuZGVsdGFYXG4gICAgfVxuXG4gICAgb25SZXNpemUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4ge1xuICAgICAgICAgICAgaW1hZ2VbJ3ZpZXdlckltYWdlTG9hZGVkJ10gPSBmYWxzZVxuICAgICAgICAgICAgaW1hZ2VbJ2FjdGl2ZSddID0gZmFsc2VcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy51cGRhdGVJbWFnZSgpXG4gICAgfVxuXG4gICAgc2hvd1F1YWxpdHlTZWxlY3RvcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5xdWFsaXR5U2VsZWN0b3JTaG93biA9ICF0aGlzLnF1YWxpdHlTZWxlY3RvclNob3duXG4gICAgfVxuXG4gICAgcXVhbGl0eUNoYW5nZWQobmV3UXVhbGl0eTogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMucXVhbGl0eVNlbGVjdGVkID0gbmV3UXVhbGl0eVxuICAgICAgICB0aGlzLnVwZGF0ZUltYWdlKClcbiAgICB9XG5cbiAgICBpbWFnZUxvYWRlZChpbWFnZTogYW55KTogdm9pZCB7XG4gICAgICAgIGltYWdlWyd2aWV3ZXJJbWFnZUxvYWRlZCddID0gdHJ1ZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpcmVjdGlvbiAoLTE6IGxlZnQsIDE6IHJpZ2h0KVxuICAgICAqIHN3aXBlICh1c2VyIHN3aXBlZClcbiAgICAgKi9cbiAgICBuYXZpZ2F0ZShkaXJlY3Rpb246IG51bWJlciwgc3dpcGU6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAoKGRpcmVjdGlvbiA9PT0gMSAmJiB0aGlzLmN1cnJlbnRJZHggPCB0aGlzLmltYWdlcy5sZW5ndGggLSAxKSB8fFxuICAgICAgICAgICAgKGRpcmVjdGlvbiA9PT0gLTEgJiYgdGhpcy5jdXJyZW50SWR4ID4gMCkpIHtcblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3RyYW5zaXRpb24nXSA9ICdsZWF2ZVRvUmlnaHQnXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4IC0gMV1bJ3RyYW5zaXRpb24nXSA9ICdlbnRlckZyb21MZWZ0J1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnbGVhdmVUb0xlZnQnXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4ICsgMV1bJ3RyYW5zaXRpb24nXSA9ICdlbnRlckZyb21SaWdodCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudElkeCArPSBkaXJlY3Rpb25cblxuICAgICAgICAgICAgaWYgKHN3aXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlTmF2aWdhdGlvbkFycm93cygpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd05hdmlnYXRpb25BcnJvd3MoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVJbWFnZSgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93TmF2aWdhdGlvbkFycm93cygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sZWZ0QXJyb3dWaXNpYmxlID0gdHJ1ZVxuICAgICAgICB0aGlzLnJpZ2h0QXJyb3dWaXNpYmxlID0gdHJ1ZVxuICAgIH1cblxuICAgIGNsb3NlVmlld2VyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlWyd0cmFuc2l0aW9uJ10gPSB1bmRlZmluZWQpXG4gICAgICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4gaW1hZ2VbJ2FjdGl2ZSddID0gZmFsc2UpXG4gICAgICAgIHRoaXMuaW1hZ2VTZXJ2aWNlLnNob3dJbWFnZVZpZXdlcihmYWxzZSlcbiAgICB9XG5cbiAgICBvbktleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcHJldmVudCA9IFszNywgMzksIDI3LCAzNiwgMzVdXG4gICAgICAgICAgICAuZmluZChubyA9PiBubyA9PT0gZXZlbnQua2V5Q29kZSlcbiAgICAgICAgaWYgKHByZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAocHJldmVudCkge1xuICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0ZSBsZWZ0XG4gICAgICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZSgtMSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgLy8gbmF2aWdhdGUgcmlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRlKDEsIGZhbHNlKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgIC8vIGVzY1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VWaWV3ZXIoKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgICAgICAgIC8vIHBvcyAxXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsndHJhbnNpdGlvbiddID0gJ2xlYXZlVG9SaWdodCdcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJZHggPSAwXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsndHJhbnNpdGlvbiddID0gJ2VudGVyRnJvbUxlZnQnXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbWFnZSgpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICAgICAgLy8gZW5kXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsndHJhbnNpdGlvbiddID0gJ2xlYXZlVG9MZWZ0J1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudElkeCA9IHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWyd0cmFuc2l0aW9uJ10gPSAnZW50ZXJGcm9tUmlnaHQnXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbWFnZSgpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGlkZU5hdmlnYXRpb25BcnJvd3MoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubGVmdEFycm93VmlzaWJsZSA9IGZhbHNlXG4gICAgICAgIHRoaXMucmlnaHRBcnJvd1Zpc2libGUgPSBmYWxzZVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlSW1hZ2UoKTogdm9pZCB7XG4gICAgICAgIC8vIHdhaXQgZm9yIGFuaW1hdGlvbiB0byBlbmRcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVF1YWxpdHkoKVxuICAgICAgICAgICAgdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsnYWN0aXZlJ10gPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmltYWdlcy5mb3JFYWNoKGltYWdlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2UgIT0gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XSkge1xuICAgICAgICAgICAgICAgICAgICBpbWFnZVsnYWN0aXZlJ10gPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCA1MDApXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVRdWFsaXR5KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5xdWFsaXR5U2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2F1dG8nOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfeHhzJ1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld194eHMnXS53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICBzY3JlZW5IZWlnaHQgPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X3h4cyddLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld194cydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld194cyddLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkhlaWdodCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfeHMnXS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfcydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbldpZHRoID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld19zJ10ud2lkdGggJiZcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuSGVpZ2h0ID4gdGhpcy5pbWFnZXNbdGhpcy5jdXJyZW50SWR4XVsncHJldmlld19zJ10uaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdwcmV2aWV3X20nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5XaWR0aCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfbSddLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkhlaWdodCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfbSddLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncHJldmlld19sJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuV2lkdGggPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X2wnXS53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICBzY3JlZW5IZWlnaHQgPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X2wnXS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfeGwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5XaWR0aCA+IHRoaXMuaW1hZ2VzW3RoaXMuY3VycmVudElkeF1bJ3ByZXZpZXdfeGwnXS53aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICBzY3JlZW5IZWlnaHQgPiB0aGlzLmltYWdlc1t0aGlzLmN1cnJlbnRJZHhdWydwcmV2aWV3X3hsJ10uaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdyYXcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdsb3cnOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfeHhzJ1xuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdtaWQnOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXRlZ29yeVNlbGVjdGVkID0gJ3ByZXZpZXdfbSdcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnaGlnaCc6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5U2VsZWN0ZWQgPSAncmF3J1xuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlTZWxlY3RlZCA9ICdwcmV2aWV3X20nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=